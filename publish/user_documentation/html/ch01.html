<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <title>Chapter&nbsp;1.&nbsp;Presentation</title><link rel="stylesheet" href="css/docbook.css" type="text/css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="user_documentation.html" title="K3 User Documentation"><link rel="up" href="user_documentation.html" title="K3 User Documentation"><link rel="prev" href="pr01.html" title=""><base xmlns:fo="http://www.w3.org/1999/XSL/Format" target="body"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;1.&nbsp;Presentation</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="pr01.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;</td></tr></table><hr></div><div class="chapter" title="Chapter&nbsp;1.&nbsp;Presentation"><div class="titlepage"><div><div><h2 class="title"><a name="_presentation"></a>Chapter&nbsp;1.&nbsp;Presentation</h2></div></div></div><p>K3 is an action language build  on top of the Xtend programming language in order to use it for <span class="strong"><strong>executable metamodeling</strong></span>.</p><p>Its key feature allows
to "re-open" classes of an Ecore metamodel and to weave new features or
operations in these classes.</p><p>The combinaison of K3 and Xtend allows to address a wide range of activities related to model element manipulation. This includes activites such as:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">weaving operational semantics in metamodel definition</li><li class="listitem">defining model to model transformations</li><li class="listitem">defining model to text transformations</li></ul></div><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">For an even larger range of activities, K3 is natively used by Melange. Melange allows to build a type system for models and enable scenarios such as:</p><div xmlns="" class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="strong"><strong>Language extension</strong></span> Using high-level operators (e.g. inheritance, merge), language definitions can be manipulated, extended or restrained to create new DSLs.</li><li class="listitem"><span class="strong"><strong>Model polymorphism</strong></span> Melange&#8217;s type system supports
 model polymorphism and substitutability, and the definition of generic
transformations that can be applied on models originating from different
 DSLs.</li></ul></div></div><p>Technically, K3 consists in a set of active annotations that can be used in
plain Xtend files to express e.g. aspects, pre/post conditions or
invariants, and uses Xbase as the expression language for operations
bodies.</p><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p xmlns="">Actually, many of K3 annotations are not dependent on EMF/ecore and can also work on plain java classe.</p></div><div class="section" title="1.1.&nbsp;Key features"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_key_features"></a>1.1.&nbsp;Key features</h2></div></div></div><div class="section" title="1.1.1.&nbsp;Full java compatibility"><div class="titlepage"><div><div><h3 class="title"><a name="_full_java_compatibility"></a>1.1.1.&nbsp;Full java compatibility</h3></div></div></div><p><span class="strong"><strong>Integrating Kermeta and java code has never been that easy !</strong></span></p><p>K3 action language is built as an extension to Xtend that in turn is able to fully reuse existing java bytecode. <span class="strong"><strong>Java code can be used from Xtend/K3 and vice versa</strong></span>.</p><div xmlns="http://www.w3.org/1999/xhtml" xmlns:fo="http://www.w3.org/1999/XSL/Format" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2><p xmlns="">Despite that Kermeta was first intended to model manipulation, this java integration means that K3AL can be used for any kind of program.</p></div></div><div class="section" title="1.1.2.&nbsp;Open class mechanism"><div class="titlepage"><div><div><h3 class="title"><a name="_open_class_mechanism"></a>1.1.2.&nbsp;Open class mechanism</h3></div></div></div><p>As all other versions of Kermeta, K3 Action Language leverages the open-class mechanism. It
allows to &#8220;re-open&#8221; existing meta-classes of a metamodel to insert new features such as attributes, references, or operations. <span class="strong"><strong>Please note that return types of aspects methods cannot be inferred: they must be explicitly written!</strong></span></p><pre class="programlisting"><b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">package</b> mypackage

<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">import</b> fr.inria.triskell.k3.Aspect

<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">import</b> mypackage.OtherClass
<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">import</b> <b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">static</b> <b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">extension</b> mypackage.OtherClassAspect.*

<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color: darkred">@Aspect(className=OtherClass)</b>
<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">class</b> OtherClassAspect {
	<b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">var</b> <b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">int</b> foo = <span class="hl-number">1</span>

    <b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">def</b> <b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">void</b> display (){
         prinln(<i xmlns:fo="http://www.w3.org/1999/XSL/Format" style="color:blue" class="hl-string">"I am OtherClassAspect"</i>)
         <i xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-comment" style="color: darkgreen">// The keyword _self must be used to refer to attributes and operations of the class and aspect.</i>
         <b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">_self</b>.foo = <span class="hl-number">2</span>
         <b xmlns:fo="http://www.w3.org/1999/XSL/Format" class="hl-keyword" style="color:darkblue">_self</b>.callingOnOperationOfOtherClass()
    }
}</pre><p>This mechanism serves as the basis for the definition of aspects on metamodels elements, enabling aspect-oriented modeling that helps to model complex software artifacts composed of
intertwined and cross-cutting concerns.</p><p>Typical use of such construct are the Visitor and Interpreter design patterns which are implemented in a more elegant and readable way with Aspect Oriented languages than with with classical Object Oriented languages.</p><div class="figure"><a name="d0e87"></a><div class="figure-contents"><div class="mediaobject"><img src="./images/OOVisitor-vs-AOVisitor.png" width="800" alt="Object Oriented visitor versus Aspect Oriented visitor"></div></div><p class="title"><b>Figure&nbsp;1.1.&nbsp;Object Oriented visitor versus Aspect Oriented visitor</b></p></div><br class="figure-break"></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pr01.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;</td></tr><tr><td width="40%" align="left" valign="top">&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="user_documentation.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;</td></tr></table></div></body></html>